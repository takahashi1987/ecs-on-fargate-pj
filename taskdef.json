{
	"family": "sample-ecs",
	"cpu": "256",
	"memory": "512",
	"networkMode": "awsvpc",
	"requiresCompatibilities": ["FARGATE"],
	"executionRoleArn": "arn:aws:iam::385154029426:role/ecsTaskExecutionRole",
	"taskRoleArn": "arn:aws:iam::385154029426:role/ecsTaskExecutionRole",
	"containerDefinitions": [
		{
			"name": "rails",
			"image": "385154029426.dkr.ecr.ap-northeast-1.amazonaws.com/ecs-on-fargate-pj-rails:staging",
			"portMappings": [
				{
					"hostPort": 3000,
					"protocol": "tcp",
					"containerPort": 3000
				}
			],
			"environment": [
				{
					"name": "DB_USERNAME",
					"value": "admin"
				},
				{
					"name": "DB_PASSWORD",
					"value": "password"
				},
				{
					"name": "DB_DATABASE",
					"value": "ecs_on_fargate_pj_production"
				},
				{
					"name": "DB_HOST",
					"value": "ecs-on-fargate-pj-db.c9lu0uigfmfg.ap-northeast-1.rds.amazonaws.com"
				},
				{
					"name": "SECRET_KEY_BASE",
					"value": "d134a87f5ebc36a0207b6d06e770a256"
				}
			],
			"essential": true
		},
		{
			"name": "nginx",
			"image": "385154029426.dkr.ecr.ap-northeast-1.amazonaws.com/ecs-on-fargate-pj-nginx",
			"portMappings": [
				{
					"hostPort": 80,
					"protocol": "tcp",
					"containerPort": 80
				}
			],
			"volumesFrom": [
				{
					"sourceContainer": "rails",
					"readOnly": true
				}
			],
			"essential": true
		}
	]
}
